var app=angular.module("Jazz",["ngAudio","ui.router"]);app.config(["$locationProvider","$urlRouterProvider",function(a,b){a.html5Mode(!0),b.otherwise("/")}]),app.config(["$stateProvider",function(a){a.state("main",{url:"/",templateUrl:"partials/home.html",controller:"MainController"}).state("artist",{url:"/artist/:artist",templateUrl:"partials/artist.html",controller:"ArtistController"})}]),app.controller("ArtistController",["$scope","$stateParams","spotifyFactory","ngAudio",function(a,b,c,d){b.artist;a.display=[],a.song=null,a.player=null,a.playing=!1,c.getArtistId(b.artist).then(function(c){a.tracks={name:b.artist,id:c.artists.items[0].id}}),a.bringTopTracks=function(b){c.getTracksById(b).then(function(b){b.tracks.forEach(function(b){var c={name:b.name,url:b.preview_url};a.display.push(c)})})},a.playSong=function(b){var c=d.load(b);a.playing?(c.stop(),a.playing=!1):(c.play(),a.playing=!0)}}]),app.controller("MainController",["$scope","LinkedJazzFactory","$state",function(a,b,c){a.getName=function(c){b.getByName(c).then(function(b){a.art=b})},a.changeState=function(a){c.go("artist",{artist:a})}}]);var app=angular.module("Jazz",["ngAudio","ui.router"]);app.config(["$locationProvider","$urlRouterProvider",function(a,b){a.html5Mode(!0),b.otherwise("/")}]),app.config(["$stateProvider",function(a){a.state("main",{url:"/",templateUrl:"partials/home.html",controller:"MainController"}).state("artist",{url:"/artist/:artist",templateUrl:"partials/artist.html",controller:"ArtistController"})}]),app.controller("ArtistController",["$scope","$stateParams","spotifyFactory","ngAudio",function(a,b,c,d){b.artist,a.display=[],a.song=null,a.player=null,a.playing=!1,c.getArtistId(b.artist).then(function(c){a.tracks={name:b.artist,id:c.artists.items[0].id}}),a.bringTopTracks=function(b){c.getTracksById(b).then(function(b){b.tracks.forEach(function(b){var c={name:b.name,url:b.preview_url};a.display.push(c)})})},a.playSong=function(b){var c=d.load(b);a.playing?(c.stop(),a.playing=!1):(c.play(),a.playing=!0)}}]),app.controller("MainController",["$scope","LinkedJazzFactory","$state",function(a,b,c){a.getName=function(c){b.getByName(c).then(function(b){a.art=b})},a.changeState=function(a){c.go("artist",{artist:a})}}]);var app=angular.module("Jazz",["ngAudio","ui.router"]);app.config(["$locationProvider","$urlRouterProvider",function(a,b){a.html5Mode(!0),b.otherwise("/")}]),app.config(["$stateProvider",function(a){a.state("main",{url:"/",templateUrl:"partials/home.html",controller:"MainController"}).state("artist",{url:"/artist/:artist",templateUrl:"partials/artist.html",controller:"ArtistController"})}]),app.controller("ArtistController",["$scope","$stateParams","spotifyFactory","ngAudio",function(a,b,c,d){b.artist,a.display=[],a.song=null,a.player=null,a.playing=!1,c.getArtistId(b.artist).then(function(c){a.tracks={name:b.artist,id:c.artists.items[0].id}}),a.bringTopTracks=function(b){c.getTracksById(b).then(function(b){b.tracks.forEach(function(b){var c={name:b.name,url:b.preview_url};a.display.push(c)})})},a.playSong=function(b){var c=d.load(b);a.playing?(c.stop(),a.playing=!1):(c.play(),a.playing=!0)}}]),app.controller("MainController",["$scope","LinkedJazzFactory","$state",function(a,b,c){a.getName=function(c){b.getByName(c).then(function(b){a.art=b})},a.changeState=function(a){c.go("artist",{artist:a})}}]),app.directive("errSrc",[function(){return{link:function(a,b,c){a.$watch(function(){return c.ngSrc},function(a){a||b.attr("src",c.errSrc)}),b.bind("error",function(){b.attr("src",c.errSrc)})}}}]),app.factory("LinkedJazzFactory",["$http",function(a){return{getByName:function(b){return a.get("/getByName/"+b).then(function(a){return a.data})}}}]),app.factory("spotifyFactory",["$http",function(a){return{getArtistId:function(b){return a.get("/spotify/getTracks/"+b).then(function(a){return a.data})},getTracksById:function(b){return a.get("/spotify/getTracksById/"+b).then(function(a){return a.data})}}}]),app.directive("errSrc",[function(){return{link:function(a,b,c){a.$watch(function(){return c.ngSrc},function(a){a||b.attr("src",c.errSrc)}),b.bind("error",function(){b.attr("src",c.errSrc)})}}}]),app.factory("LinkedJazzFactory",["$http",function(a){return{getByName:function(b){return a.get("/getByName/"+b).then(function(a){return a.data})}}}]),app.factory("spotifyFactory",["$http",function(a){return{getArtistId:function(b){return a.get("/spotify/getTracks/"+b).then(function(a){return a.data})},getTracksById:function(b){return a.get("/spotify/getTracksById/"+b).then(function(a){return a.data})}}}]),app.directive("errSrc",[function(){return{link:function(a,b,c){a.$watch(function(){return c.ngSrc},function(a){a||b.attr("src",c.errSrc)}),b.bind("error",function(){b.attr("src",c.errSrc)})}}}]),app.factory("LinkedJazzFactory",["$http",function(a){return{getByName:function(b){return a.get("/getByName/"+b).then(function(a){return a.data})}}}]),app.factory("spotifyFactory",["$http",function(a){return{getArtistId:function(b){return a.get("/spotify/getTracks/"+b).then(function(a){return a.data})},getTracksById:function(b){return a.get("/spotify/getTracksById/"+b).then(function(a){return a.data})}}}]);